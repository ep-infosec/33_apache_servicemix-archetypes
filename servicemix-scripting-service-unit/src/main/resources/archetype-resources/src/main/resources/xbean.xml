<?xml version="1.0" encoding="UTF-8"?>
<!-- Generated by Apache ServiceMix Archetype -->
<beans xmlns:scripting="http://servicemix.apache.org/scripting/1.0"
       xmlns:replaceMe="http://servicemix.apache.org/replaceMe"
       xmlns:util="http://www.springframework.org/schema/util"
       xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="
            http://servicemix.apache.org/scripting/1.0 http://servicemix.apache.org/schema/servicemix-scripting-@{components.version}.xsd
            http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
            http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.0.xsd">

    <!-- 
        The ServiceMix Scripting component provides support for processing scripts using JSR-223.
        
        Scripting for the Java Platform (JSR-223) is an API that standardizes the way scripting language
        are integrated with a Java application. Have a look at the project site to get an overview what 
        languages are available and what dependencies they have (http://scripting.dev.java.net/).
        
            http://servicemix.apache.org/servicemix-scripting.html
    -->
       
    <!-- BEGIN SNIPPET: groovy-jsr223  -->
    <!-- 
        The Groovy JSR-223 endpoint uses Groovy scripting engine to apply transformation to message.
        
        Attributes:
            service                     : the endpoint service name
            endpoint                    : the endpoint name
            targetService               : the target endpoint service name
            targetEndpoint              : the target endpoint name
            marshaler                   : implementation of ScriptingMarshalerSupport to read/write message
            script                      : Spring resource for the script file
            language                    : script language to use (groovy, jruby, js, etc)
            logResourceBundle           : Log Resource Bundle for Script Logger
            scriptLogger                : the Logger to use
            disableOutput               : flag if no out message should be sent
            copyProperties              : flag if the message header will be copied to out message
            copyAttachments             : flag if the message attachments will be copied to out message
            bindings                    : the bindings map
    -->
    <scripting:endpoint
        service="replaceMe:serviceName" 
        endpoint="groovy-jsr223"
        script="classpath:GroovyExchangeProcessorJSR223.groovy"
        bindings="#customBindings">
    </scripting:endpoint>
    <!-- END SNIPPET: groovy-jsr223 -->
            
    <!-- BEGIN SNIPPET: jruby-jsr223  -->
    <!-- 
        The JRuby JSR-223 endpoint uses JRuby scripting engine to apply transformation to message.
        
        Attributes:
            service                     : the endpoint service name
            endpoint                    : the endpoint name
            targetService               : the target endpoint service name
            targetEndpoint              : the target endpoint name
            marshaler                   : implementation of ScriptingMarshalerSupport to read/write message
            script                      : Spring resource for the script file
            language                    : script language to use (groovy, jruby, js, etc)
            logResourceBundle           : Log Resource Bundle for Script Logger
            scriptLogger                : the Logger to use
            disableOutput               : flag if no out message should be sent
            copyProperties              : flag if the message header will be copied to out message
            copyAttachments             : flag if the message attachments will be copied to out message
            bindings                    : the bindings map
    -->
    <scripting:endpoint
        service="replaceMe:serviceName" 
        endpoint="jruby-jsr223"
        script="classpath:RubyExchangeProcessorJSR223.rb"
        bindings="#customBindings">
    </scripting:endpoint>
    <!-- END SNIPPET: jruby-jsr223 -->
            
    <!-- BEGIN SNIPPET: javascript-jsr223 -->
    <!-- 
        The JavaScript JSR-223 endpoint uses JavaScript scripting engine to apply transformation to message.
        
        Attributes:
            service                     : the endpoint service name
            endpoint                    : the endpoint name
            targetService               : the target endpoint service name
            targetEndpoint              : the target endpoint name
            marshaler                   : implementation of ScriptingMarshalerSupport to read/write message
            script                      : Spring resource for the script file
            language                    : script language to use (groovy, jruby, js, etc)
            logResourceBundle           : Log Resource Bundle for Script Logger
            scriptLogger                : the Logger to use
            disableOutput               : flag if no out message should be sent
            copyProperties              : flag if the message header will be copied to out message
            copyAttachments             : flag if the message attachments will be copied to out message
            bindings                    : the bindings map
    -->
    <scripting:endpoint
        service="replaceMe:serviceName" 
        endpoint="javascript-jsr223"
        script="classpath:JSExchangeProcessorJSR223.js"
        bindings="#customBindings">
    </scripting:endpoint>
    <!-- END SNIPPET -->
            
    <util:map id="customBindings">
        <entry key="answerGroovy" value="JSR-223 with Groovy is working fine..." />
        <entry key="answerJRuby"  value="JSR-223 with JRuby is working fine..." />
        <entry key="answerJS"  value="JSR-223 with JavaScript is working fine..." />
    </util:map>   

</beans>
